\documentclass[11pt]{article}
\usepackage[a4paper,  margin=1in]{geometry}
\usepackage{enumitem}
\usepackage{color}
\usepackage{graphicx}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{algorithm}
\usepackage{algorithmicx}
\usepackage{algpseudocode}
\usepackage{listings}
\usepackage{amssymb}
\usepackage{tikz}
\usepackage{pgfplots}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{codebg}{rgb}{0.95,0.95,0.9}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{frame=tb,
  rulecolor=\color{codebg},
  backgroundcolor=\color{codebg},
  language=C++,
  aboveskip=3mm,
  belowskip=-0.5mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=none,
  numberstyle=\tiny\color{gray},
  morekeywords={vector},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=3
}

\graphicspath{{pic/}}
\setlength\parskip{6pt}
\setlength\parindent{0pt}
\setlength\intextsep{9pt}
\linespread{1}
\renewcommand{\refname}{\vspace{-30pt}}
\renewcommand\floatpagefraction{0.85}

\title{\bf{VFX Project 1\\\large{High Dynamic Range Imaging}}\vspace{-10pt}}
\author{B03901056 Fan-Keng Sun, B03901119 Shang-Wei Chen}
\date{}
  
\begin{document}
\maketitle
\section{Description}
In this project, we assemble high dynamic range (HDR) images from a series of photographs under various exposures, using a popular vision library, OpenCV, for image processing and I/O. The photographs are preprocessed using median threshold bitmap (MTB) algorithm for image alignment. With the aid of tone mapping algorithm, HDR images are reproduced to LDR images in a better human perceptual sense. We learned basic photographing theories and image processing skills from the project. The features we have implemented are:
\vspace{-8pt}
\begin{itemize}
  \itemsep=-2pt
  \item Image alignment: MTB algorithm.
  \item HDR imaging: Paul Debevec's method.
  \item Tone mapping: Erik Reinhard's method.
  \item Exposure fusion: Tom Mertens' method.
  \item Blob removal
  \item Ghost removal: EA Khan's method.
  \item Spotlighting
\end{itemize}
\vspace{-8pt}

\section{Implementation}
\subsection{Environment}
\begin{itemize}
  \itemsep=-2pt
  \item Camera: Sony A6000 (lens: Sony SELP1650)
  \item OS: Linux (Archlinux 4.10, Ubuntu 16.04)
  \item Tools/Libraries: gcc/g++ 6.3.1, OpenCV 3.2 (C++), Boost $>=$ 1.5, Cmake $>=$ 3.0
\end{itemize}

\subsection{Image alignment}
\input{subsection-image-alignment}
\subsection{HDR Imaging}
\input{subsection-hdr-imaging}
\subsection{Tone Mapping}
\input{subsection-tone-mapping}
\subsection{Blob Removal}
\input{subsection-blob-removal}
\subsection{Ghost Removal}
\input{subsection-ghost-removal}
\subsection{Spotlighting}
\input{subsection-spotlighting}

\section{Results}
\subsection{Response Curve}
\begin{figure}[!ht]
\center
\hspace{-45pt}
\subcaptionbox{$\lambda=0.5$}{
  \begin{tikzpicture}
    \begin{axis}[
      domain=0:255,
      xticklabel style={font=\scriptsize},
      yticklabel style={font=\scriptsize},
      xmin=0, xmax=255,
      ymin=-4.5, ymax=3,
      samples=100,
      width=6.5cm, height=5cm
    ]
    \addplot [color=blue, thick] table [x=x, y=y] {data/curveB_5.txt};
    \addplot [color=red, thick] table [x=x, y=y] {data/curveR_5.txt};
    \addplot [color=green, thick] table [x=x, y=y] {data/curveG_5.txt};
    \end{axis}
  \end{tikzpicture}
}
\hspace{-10pt}
\subcaptionbox{$\lambda=5$}{
  \begin{tikzpicture}
    \begin{axis}[
      domain=0:255,
      xticklabel style={font=\scriptsize},
      yticklabel style={font=\scriptsize},
      xmin=0, xmax=255,
      ymin=-4.5, ymax=3,
      samples=100,
      width=6.5cm, height=5cm
    ]
    \addplot [color=blue, thick] table [x=x, y=y] {data/curveB_5.txt};
    \addplot [color=red, thick] table [x=x, y=y] {data/curveR_5.txt};
    \addplot [color=green, thick] table [x=x, y=y] {data/curveG_5.txt};
    \end{axis}
  \end{tikzpicture}
}
\hspace{-10pt}
\subcaptionbox{$\lambda=50$}{
  \begin{tikzpicture}
    \begin{axis}[
      domain=0:255,
      xticklabel style={font=\scriptsize},
      yticklabel style={font=\scriptsize},
      xmin=0, xmax=255,
      ymin=-4.5, ymax=3,
      samples=100,
      width=6.5cm, height=5cm
    ]
    \addplot [color=blue, thick] table [x=x, y=y] {data/curveB_5.txt};
    \addplot [color=red, thick] table [x=x, y=y] {data/curveR_5.txt};
    \addplot [color=green, thick] table [x=x, y=y] {data/curveG_5.txt};
    \end{axis}
  \end{tikzpicture}
}
\hspace{-45pt}
\caption{Response curve for Sony A6000}
\label{fig:response-curve}
\end{figure}



\begin{figure}[!ht]
  \centering
  %\subcaptionbox{Ponzo illusion\vspace{5pt}}{\includegraphics[width=.3\linewidth]{blob-panel}}
  %\caption{782\cite{ref:optical-illusion}}
  \label{distort}
\end{figure}

\section{Reference}
\bibliographystyle{unsrt}
\bibliography{hw1}
\end{document}
